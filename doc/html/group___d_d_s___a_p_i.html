<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SBCDA Decoder Firmware: DDS_API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SBCDA Decoder Firmware
   &#160;<span id="projectnumber">v1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">DDS_API<div class="ingroups"><a class="el" href="group___s_b_c_d_a___a_p_p.html">SBCDA_APP</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaae9812f46efd3711214d66ec5bd90674"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_d_s___a_p_i.html#gaae9812f46efd3711214d66ec5bd90674">DDS_BASE</a>&#160;&#160;&#160;0x30000000</td></tr>
<tr class="separator:gaae9812f46efd3711214d66ec5bd90674"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga61f7ba6d9616f3c1b1dd1ac799428fd1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_d_s___a_p_i.html#ga61f7ba6d9616f3c1b1dd1ac799428fd1">SBCDA_DECODER</a>&#160;&#160;&#160;DDS_DECODER</td></tr>
<tr class="separator:ga61f7ba6d9616f3c1b1dd1ac799428fd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga03744649eaa04f0f029df082e6ca9575"><td class="memItemLeft" align="right" valign="top">DDS_Typedef *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_d_s___a_p_i.html#ga03744649eaa04f0f029df082e6ca9575">DDS_GetDecoderInstance</a> (void)</td></tr>
<tr class="separator:ga03744649eaa04f0f029df082e6ca9575"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga396bdfd69860d5c88d26f7094a3cc41c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_d_s___a_p_i.html#ga396bdfd69860d5c88d26f7094a3cc41c">DDS_Setup</a> (void)</td></tr>
<tr class="separator:ga396bdfd69860d5c88d26f7094a3cc41c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga449b3850974b9054a63359b104b440dc"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_d_s___a_p_i.html#ga449b3850974b9054a63359b104b440dc">DDS_isNewWindowReady</a> (void)</td></tr>
<tr class="separator:ga449b3850974b9054a63359b104b440dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga27670bb6491dd40f4c605dbec0bf505d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_d_s___a_p_i.html#ga27670bb6491dd40f4c605dbec0bf505d">DDS_clearNewWindowFlag</a> (void)</td></tr>
<tr class="separator:ga27670bb6491dd40f4c605dbec0bf505d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga010269c11a1f1c9f53f31d1521a22471"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_d_s___a_p_i.html#ga010269c11a1f1c9f53f31d1521a22471">DDS_setNewWindowFlag</a> (void)</td></tr>
<tr class="separator:ga010269c11a1f1c9f53f31d1521a22471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd945ae15e0559f2d8dce2860354ed57"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_d_s___a_p_i.html#gacd945ae15e0559f2d8dce2860354ed57">DDS_EnableDecoder</a> (void)</td></tr>
<tr class="separator:gacd945ae15e0559f2d8dce2860354ed57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga17065a48b0ce7ad24740a144bb24fb55"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_d_s___a_p_i.html#ga17065a48b0ce7ad24740a144bb24fb55">DDS_DisableDecoder</a> (void)</td></tr>
<tr class="separator:ga17065a48b0ce7ad24740a144bb24fb55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae4f18ac70ccacf5b0c08f35df3a68c7e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_d_s___a_p_i.html#gae4f18ac70ccacf5b0c08f35df3a68c7e">DDS_DecoderStartOp</a> (void)</td></tr>
<tr class="separator:gae4f18ac70ccacf5b0c08f35df3a68c7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab9346847068834883c8aa90e94ccf847"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_d_s___a_p_i.html#gab9346847068834883c8aa90e94ccf847">DDS_DetectEop</a> (void)</td></tr>
<tr class="separator:gab9346847068834883c8aa90e94ccf847"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8432fe55e46d995b5b36dc8c262c0d2d"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_d_s___a_p_i.html#ga8432fe55e46d995b5b36dc8c262c0d2d">DDS_DetectEmpty</a> (void)</td></tr>
<tr class="separator:ga8432fe55e46d995b5b36dc8c262c0d2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadf4e994e9b2e845a52a72fcc5af9f19b"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_d_s___a_p_i.html#gadf4e994e9b2e845a52a72fcc5af9f19b">DDS_DecoderEop</a> (void)</td></tr>
<tr class="separator:gadf4e994e9b2e845a52a72fcc5af9f19b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadafd1ef25b1e3bff8f5975e3001244c0"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_d_s___a_p_i.html#gadafd1ef25b1e3bff8f5975e3001244c0">DDS_DecoderEmpty</a> (void)</td></tr>
<tr class="separator:gadafd1ef25b1e3bff8f5975e3001244c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabfb67b0cb69b7d443df5a21426422bbf"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_d_s___a_p_i.html#gabfb67b0cb69b7d443df5a21426422bbf">DDS_ReadDetectBuffer</a> (void)</td></tr>
<tr class="separator:gabfb67b0cb69b7d443df5a21426422bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaeb0c0549ccf4a0d5c4eb4b8733aad15"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_d_s___a_p_i.html#gaaeb0c0549ccf4a0d5c4eb4b8733aad15">DDS_SetAmpThreshold</a> (uint32_t val)</td></tr>
<tr class="separator:gaaeb0c0549ccf4a0d5c4eb4b8733aad15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3c1b6aafe67b4074170688cf170fad65"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_d_s___a_p_i.html#ga3c1b6aafe67b4074170688cf170fad65">DDS_CalcMessageLength</a> (uint8_t msgLength)</td></tr>
<tr class="separator:ga3c1b6aafe67b4074170688cf170fad65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga249a36f3fa12baff1cf03b7f6a8a0cac"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_d_s___a_p_i.html#ga249a36f3fa12baff1cf03b7f6a8a0cac">DDS_DecodeBit</a> (uint16_t symb0, uint16_t symb1)</td></tr>
<tr class="separator:ga249a36f3fa12baff1cf03b7f6a8a0cac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga50f75e7c6ac13f3ce0acd05055506455"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_d_s___a_p_i.html#ga50f75e7c6ac13f3ce0acd05055506455">DDS_Insert_Detected_Freq</a> (uint32_t *detectedFreqIdx, uint32_t *detectedFreqAmp, uint32_t new_idx, uint32_t new_amp, uint8_t const numberOfDecoders, int8_t *assigned_position)</td></tr>
<tr class="separator:ga50f75e7c6ac13f3ce0acd05055506455"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f53b4fdeb56f560600428473023f819"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_d_s___a_p_i.html#ga1f53b4fdeb56f560600428473023f819">DDS_Detection_Loop</a> ()</td></tr>
<tr class="separator:ga1f53b4fdeb56f560600428473023f819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0d11598fca2a9f0eceb43f06a0fb2c4e"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_d_s___a_p_i.html#ga0d11598fca2a9f0eceb43f06a0fb2c4e">DDS_Decoding_Loop</a> ()</td></tr>
<tr class="separator:ga0d11598fca2a9f0eceb43f06a0fb2c4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gaae9812f46efd3711214d66ec5bd90674"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaae9812f46efd3711214d66ec5bd90674">&#9670;&nbsp;</a></span>DDS_BASE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DDS_BASE&#160;&#160;&#160;0x30000000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Detect/Decoder bit masks </p>

<p class="definition">Definition at line <a class="el" href="dds_8h_source.html#l00029">29</a> of file <a class="el" href="dds_8h_source.html">dds.h</a>.</p>

</div>
</div>
<a id="ga61f7ba6d9616f3c1b1dd1ac799428fd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga61f7ba6d9616f3c1b1dd1ac799428fd1">&#9670;&nbsp;</a></span>SBCDA_DECODER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SBCDA_DECODER&#160;&#160;&#160;DDS_DECODER</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DDSDecoder regbank instance </p>

<p class="definition">Definition at line <a class="el" href="dds_8h_source.html#l00146">146</a> of file <a class="el" href="dds_8h_source.html">dds.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="dds_8c_source.html#l00215">DDS_DecoderEmpty()</a>, <a class="el" href="dds_8c_source.html#l00206">DDS_DecoderEop()</a>, <a class="el" href="dds_8c_source.html#l00178">DDS_DecoderStartOp()</a>, <a class="el" href="dds_8c_source.html#l00612">DDS_Decoding_Loop()</a>, <a class="el" href="dds_8c_source.html#l00198">DDS_DetectEmpty()</a>, <a class="el" href="dds_8c_source.html#l00187">DDS_DetectEop()</a>, <a class="el" href="dds_8c_source.html#l00546">DDS_Detection_Loop()</a>, <a class="el" href="dds_8c_source.html#l00171">DDS_DisableDecoder()</a>, <a class="el" href="dds_8c_source.html#l00159">DDS_EnableDecoder()</a>, <a class="el" href="dds_8c_source.html#l00085">DDS_GetDecoderInstance()</a>, <a class="el" href="dds_8c_source.html#l00226">DDS_ReadDetectBuffer()</a>, and <a class="el" href="dds_8c_source.html#l00233">DDS_SetAmpThreshold()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga3c1b6aafe67b4074170688cf170fad65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3c1b6aafe67b4074170688cf170fad65">&#9670;&nbsp;</a></span>DDS_CalcMessageLength()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t DDS_CalcMessageLength </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>msgLength</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the correspondent data portion size in bits for a given message length code. OBS: Assuming a 28bit ID_NUMBER format </p>

<p class="definition">Definition at line <a class="el" href="dds_8c_source.html#l00242">242</a> of file <a class="el" href="dds_8c_source.html">dds.c</a>.</p>

</div>
</div>
<a id="ga27670bb6491dd40f4c605dbec0bf505d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga27670bb6491dd40f4c605dbec0bf505d">&#9670;&nbsp;</a></span>DDS_clearNewWindowFlag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DDS_clearNewWindowFlag </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DDS_clearNewWindowFlag </p>

<p class="definition">Definition at line <a class="el" href="dds_8c_source.html#l00071">71</a> of file <a class="el" href="dds_8c_source.html">dds.c</a>.</p>

</div>
</div>
<a id="ga249a36f3fa12baff1cf03b7f6a8a0cac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga249a36f3fa12baff1cf03b7f6a8a0cac">&#9670;&nbsp;</a></span>DDS_DecodeBit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t DDS_DecodeBit </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>symb0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>symb1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Every symbol is a 10bit value in 2's complement format. However, they are placed into a 16bit unsigned int with no sign extension. This function sign extends the symbol values and then compare them in order to determine if they correspond to a 1 or a 0 bit. The following convention is assumed:</p>
<p>if symb0 &lt;= symb1 =&gt; (-1) to (1) transition =&gt; bit 1 if symb0 &gt; symb1 =&gt; (1) to (-1) transition =&gt; bit 0 </p>

<p class="definition">Definition at line <a class="el" href="dds_8c_source.html#l00285">285</a> of file <a class="el" href="dds_8c_source.html">dds.c</a>.</p>

</div>
</div>
<a id="gadafd1ef25b1e3bff8f5975e3001244c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadafd1ef25b1e3bff8f5975e3001244c0">&#9670;&nbsp;</a></span>DDS_DecoderEmpty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t DDS_DecoderEmpty </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DDS_DecoderEmpty</p>
<p>A new detection is signalized when the DDS_DETECTOUT_BUFFER_EMPTY is clear </p>

<p class="definition">Definition at line <a class="el" href="dds_8c_source.html#l00215">215</a> of file <a class="el" href="dds_8c_source.html">dds.c</a>.</p>

<p class="reference">References <a class="el" href="dds_8h_source.html#l00146">SBCDA_DECODER</a>.</p>

<p class="reference">Referenced by <a class="el" href="dds_8c_source.html#l00612">DDS_Decoding_Loop()</a>.</p>

</div>
</div>
<a id="gadf4e994e9b2e845a52a72fcc5af9f19b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadf4e994e9b2e845a52a72fcc5af9f19b">&#9670;&nbsp;</a></span>DDS_DecoderEop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t DDS_DecoderEop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DDS_DecoderEop </p>

<p class="definition">Definition at line <a class="el" href="dds_8c_source.html#l00206">206</a> of file <a class="el" href="dds_8c_source.html">dds.c</a>.</p>

<p class="reference">References <a class="el" href="dds_8h_source.html#l00146">SBCDA_DECODER</a>.</p>

<p class="reference">Referenced by <a class="el" href="dds_8c_source.html#l00612">DDS_Decoding_Loop()</a>.</p>

</div>
</div>
<a id="gae4f18ac70ccacf5b0c08f35df3a68c7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae4f18ac70ccacf5b0c08f35df3a68c7e">&#9670;&nbsp;</a></span>DDS_DecoderStartOp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DDS_DecoderStartOp </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="group___d_d_s___a_p_i.html#gae4f18ac70ccacf5b0c08f35df3a68c7e">DDS_DecoderStartOp()</a> </p>

<p class="definition">Definition at line <a class="el" href="dds_8c_source.html#l00178">178</a> of file <a class="el" href="dds_8c_source.html">dds.c</a>.</p>

<p class="reference">References <a class="el" href="dds_8h_source.html#l00146">SBCDA_DECODER</a>.</p>

</div>
</div>
<a id="ga0d11598fca2a9f0eceb43f06a0fb2c4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0d11598fca2a9f0eceb43f06a0fb2c4e">&#9670;&nbsp;</a></span>DDS_Decoding_Loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t DDS_Decoding_Loop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DDS_Decoding_Loop</p>
<p>The decoding loop is the procedure responsible for reading symbols out of the PTTD Buffer FIFO, converting them into bit representation and attaching each bit to its corresponding building package.</p>
<dl class="section return"><dt>Returns</dt><dd>The number of finished packages in the current loop </dd></dl>
<p>fifo pop on this load </p>

<p class="definition">Definition at line <a class="el" href="dds_8c_source.html#l00612">612</a> of file <a class="el" href="dds_8c_source.html">dds.c</a>.</p>

<p class="reference">References <a class="el" href="dds_8c_source.html#l00215">DDS_DecoderEmpty()</a>, <a class="el" href="dds_8c_source.html#l00206">DDS_DecoderEop()</a>, and <a class="el" href="dds_8h_source.html#l00146">SBCDA_DECODER</a>.</p>

</div>
</div>
<a id="ga8432fe55e46d995b5b36dc8c262c0d2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8432fe55e46d995b5b36dc8c262c0d2d">&#9670;&nbsp;</a></span>DDS_DetectEmpty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t DDS_DetectEmpty </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DDS_DetectEmpty</p>
<p>A new detection is signalized when the DDS_DETECTOUT_BUFFER_EMPTY is clear </p>

<p class="definition">Definition at line <a class="el" href="dds_8c_source.html#l00198">198</a> of file <a class="el" href="dds_8c_source.html">dds.c</a>.</p>

<p class="reference">References <a class="el" href="dds_8h_source.html#l00146">SBCDA_DECODER</a>.</p>

<p class="reference">Referenced by <a class="el" href="dds_8c_source.html#l00546">DDS_Detection_Loop()</a>.</p>

</div>
</div>
<a id="gab9346847068834883c8aa90e94ccf847"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab9346847068834883c8aa90e94ccf847">&#9670;&nbsp;</a></span>DDS_DetectEop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t DDS_DetectEop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DDS_DetectEop </p>

<p class="definition">Definition at line <a class="el" href="dds_8c_source.html#l00187">187</a> of file <a class="el" href="dds_8c_source.html">dds.c</a>.</p>

<p class="reference">References <a class="el" href="dds_8h_source.html#l00146">SBCDA_DECODER</a>.</p>

<p class="reference">Referenced by <a class="el" href="dds_8c_source.html#l00546">DDS_Detection_Loop()</a>.</p>

</div>
</div>
<a id="ga1f53b4fdeb56f560600428473023f819"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1f53b4fdeb56f560600428473023f819">&#9670;&nbsp;</a></span>DDS_Detection_Loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t DDS_Detection_Loop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DDS_Detection_Loop</p>
<p>The Detection Loop is responsible for acquiring new frequencies, assigning a free decoder to them and allocation a new PTT Package for the decoding process. It is also responsible for applying the software version of the Detection Mask for each new frequency, comparing them to the previously allocated ones.</p>
<p>Every new frequency is compared to the previously detected ones to avoid conflicts. A conflict happens when a new frequency is located less than 1.6 KHz (right or left) distant from any other frequency already assigned to a decoder. When a conflict occurs the system keeps the frequency associated to the highest amplitude, discarding the other. At the end of the Detection Loop the system is guaranteed to operate only with the highest components of the spectrum within the current 10ms window.</p>
<dl class="section return"><dt>Returns</dt><dd>The number of newly detected frequencies during the current iteration </dd></dl>

<p class="definition">Definition at line <a class="el" href="dds_8c_source.html#l00546">546</a> of file <a class="el" href="dds_8c_source.html">dds.c</a>.</p>

<p class="reference">References <a class="el" href="dds_8c_source.html#l00198">DDS_DetectEmpty()</a>, <a class="el" href="dds_8c_source.html#l00187">DDS_DetectEop()</a>, and <a class="el" href="dds_8h_source.html#l00146">SBCDA_DECODER</a>.</p>

</div>
</div>
<a id="ga17065a48b0ce7ad24740a144bb24fb55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga17065a48b0ce7ad24740a144bb24fb55">&#9670;&nbsp;</a></span>DDS_DisableDecoder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DDS_DisableDecoder </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DDS_Disable_Decoder()</p>
<p>This function disables the detect/decoder module on FPGA Detection/decoding processes run only if ENABLE is set </p>

<p class="definition">Definition at line <a class="el" href="dds_8c_source.html#l00171">171</a> of file <a class="el" href="dds_8c_source.html">dds.c</a>.</p>

<p class="reference">References <a class="el" href="dds_8h_source.html#l00146">SBCDA_DECODER</a>.</p>

<p class="reference">Referenced by <a class="el" href="dds_8c_source.html#l00033">DDS_Setup()</a>.</p>

</div>
</div>
<a id="gacd945ae15e0559f2d8dce2860354ed57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacd945ae15e0559f2d8dce2860354ed57">&#9670;&nbsp;</a></span>DDS_EnableDecoder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DDS_EnableDecoder </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DDS_Enable_Decoder_Module()</p>
<p>This function enables the detect/decoder module on FPGA Detection/decoding processes run only if ENABLE is set </p>

<p class="definition">Definition at line <a class="el" href="dds_8c_source.html#l00159">159</a> of file <a class="el" href="dds_8c_source.html">dds.c</a>.</p>

<p class="reference">References <a class="el" href="dds_8h_source.html#l00146">SBCDA_DECODER</a>.</p>

</div>
</div>
<a id="ga03744649eaa04f0f029df082e6ca9575"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga03744649eaa04f0f029df082e6ca9575">&#9670;&nbsp;</a></span>DDS_GetDecoderInstance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DDS_Typedef* DDS_GetDecoderInstance </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DDS_GetDecoderInstance </p>

<p class="definition">Definition at line <a class="el" href="dds_8c_source.html#l00085">85</a> of file <a class="el" href="dds_8c_source.html">dds.c</a>.</p>

<p class="reference">References <a class="el" href="dds_8h_source.html#l00146">SBCDA_DECODER</a>.</p>

</div>
</div>
<a id="ga50f75e7c6ac13f3ce0acd05055506455"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga50f75e7c6ac13f3ce0acd05055506455">&#9670;&nbsp;</a></span>DDS_Insert_Detected_Freq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t DDS_Insert_Detected_Freq </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>detectedFreqIdx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>detectedFreqAmp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>new_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>new_amp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t const&#160;</td>
          <td class="paramname"><em>numberOfDecoders</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t *&#160;</td>
          <td class="paramname"><em>assigned_position</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DDS_Insert_Detected_Freq This procedure tries to insert a new detected freq/amp pair into the current frequencies vector. New frequencies must be at least 3.2KHz apart from previously allocated ones. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">detectedFreqIdx</td><td>= Detected Frequencies Vector. </td></tr>
    <tr><td class="paramname">detectedFreqAmp</td><td>= Detected Amplitudes Vector. </td></tr>
    <tr><td class="paramname">new_idx</td><td>= Newly detected frequency index. </td></tr>
    <tr><td class="paramname">new_amp</td><td>= Newly detected frequency amp. </td></tr>
    <tr><td class="paramname">numberOfDecoders</td><td>= Total number of decoders in the system </td></tr>
    <tr><td class="paramname">assigned_position</td><td>= Number of the decoder assigned for the detected frequency</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DDS_INSERT_FREQ_NEW: new frequency assigned to a free decoder position </dd>
<dd>
DDS_INSERT_FREQ_REPLACE: new freq replace a previously assigned decoder </dd>
<dd>
DDS_INSERT_FREQ_NONE: new freq could not be insterted because all decoders where busy. </dd></dl>
<p>Frequency idx have are 11 bits long with a precision of 128/2^11 kHz. The idx are signed and organized around zero (FFT result) and go from -1024 to +1023 (2^11) in 2's-complement format. However, after read the idx values are stored on 32bit unsigned integer variables, whithout sign extension.</p>
<p>Step resolution: 0,0625 kHz Overlap bandwidth: 3.2 kHz = 51.2 * 0,0625 kHz</p>
<p>Each new detected peak must be at least 51 freqIdxes apart (left and right)</p>
<p>Freq idx is replaced if the new index is less then 3,2kHz apart AND the new_amp is higher then the previous one.</p>

<p class="definition">Definition at line <a class="el" href="dds_8c_source.html#l00445">445</a> of file <a class="el" href="dds_8c_source.html">dds.c</a>.</p>

</div>
</div>
<a id="ga449b3850974b9054a63359b104b440dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga449b3850974b9054a63359b104b440dc">&#9670;&nbsp;</a></span>DDS_isNewWindowReady()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t DDS_isNewWindowReady </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DDS_isNewWindowReady </p>

<p class="definition">Definition at line <a class="el" href="dds_8c_source.html#l00064">64</a> of file <a class="el" href="dds_8c_source.html">dds.c</a>.</p>

</div>
</div>
<a id="gabfb67b0cb69b7d443df5a21426422bbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabfb67b0cb69b7d443df5a21426422bbf">&#9670;&nbsp;</a></span>DDS_ReadDetectBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t DDS_ReadDetectBuffer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DDS_POP_DetectBuffer</p>
<p>This function performs a READ operation on the detection data buffer. Each READ pops one element of the data fifo, updating the control register </p>

<p class="definition">Definition at line <a class="el" href="dds_8c_source.html#l00226">226</a> of file <a class="el" href="dds_8c_source.html">dds.c</a>.</p>

<p class="reference">References <a class="el" href="dds_8h_source.html#l00146">SBCDA_DECODER</a>.</p>

</div>
</div>
<a id="gaaeb0c0549ccf4a0d5c4eb4b8733aad15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaeb0c0549ccf4a0d5c4eb4b8733aad15">&#9670;&nbsp;</a></span>DDS_SetAmpThreshold()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DDS_SetAmpThreshold </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DDS_SetAmpThreshold </p>

<p class="definition">Definition at line <a class="el" href="dds_8c_source.html#l00233">233</a> of file <a class="el" href="dds_8c_source.html">dds.c</a>.</p>

<p class="reference">References <a class="el" href="dds_8h_source.html#l00146">SBCDA_DECODER</a>.</p>

</div>
</div>
<a id="ga010269c11a1f1c9f53f31d1521a22471"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga010269c11a1f1c9f53f31d1521a22471">&#9670;&nbsp;</a></span>DDS_setNewWindowFlag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DDS_setNewWindowFlag </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DDS_setrNewWindowFlag </p>

<p class="definition">Definition at line <a class="el" href="dds_8c_source.html#l00078">78</a> of file <a class="el" href="dds_8c_source.html">dds.c</a>.</p>

</div>
</div>
<a id="ga396bdfd69860d5c88d26f7094a3cc41c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga396bdfd69860d5c88d26f7094a3cc41c">&#9670;&nbsp;</a></span>DDS_Setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DDS_Setup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>DDS_Driver_Init DDS_Setup This function must be called before the detection/decoding process starts, in order to initialize the detection driver internal variables correctly.</p>
<p>DDS_Setup </p>

<p class="definition">Definition at line <a class="el" href="dds_8c_source.html#l00033">33</a> of file <a class="el" href="dds_8c_source.html">dds.c</a>.</p>

<p class="reference">References <a class="el" href="dds_8c_source.html#l00171">DDS_DisableDecoder()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
